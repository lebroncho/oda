<style type="text/css">
	.contact_support_Btn:focus {
		color: #000 !important;
	}

	.rn_ContentDetail .rn_RecordDetail .rn_AnswerInfo {
		display: none;
	}

	#support-map .rz_Btn {
		display: block;
		width: 100%;
		max-width: 230px;
		text-align: center;
		font-size: 1rem;
		line-height: 1.5rem;
		font-weight: 400 !important;
		letter-spacing: 0.09rem !important;
		border-radius: 0.25rem !important;
		padding: 0.45rem;
		margin: 1.5rem auto;
		white-space: normal;
		cursor: pointer;
		text-transform: uppercase;
		border: 1px solid var(--color-green);
		color: var(--color-green);
		-webkit-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

	#support-map .rz_Btn:hover,
	#support-map .rz_Btn.disabled {
		opacity: 1;
	}

	#support-map .rz_Btn.disabled {
		border-color: #555;
		color: #555 !important;
	}

	#support-map input[type=radio]:checked+label.rz_Btn {
		background-color: var(--color-green) !important;
		color: #000 !important;
		font-weight: 500 !important;
	}

	#support-map input[type="radio"]:before {
		background-color: var(--color-green);
	}

	#support-map input[type="radio"]:checked:after {
		border-color: var(--color-green);
	}

	#support-map .list-solutions input[type="radio"]:focus {
		border: none !important;
	}

	#support-map .list-unstyled,
	#support-map .list-unstyled>li {
		list-style: none !important;
	}

	#support-map .list-unstyled {
		padding-left: 2rem;
		margin-bottom: 1.5rem;
	}

	#support-map .list-unstyled li {
		position: relative;
	}

	#support-map .list-unstyled input[type=checkbox] {
		position: absolute;
		left: -2rem;
		top: 0.25rem;
	}

	#support-map .list-unstyled input[type=checkbox]:after {
		border-color: var(--color-green) !important;
		border-radius: 0.25rem !important;
	}

	#support-map .list-unstyled input[type=checkbox]:checked:before {
		border-color: #222 !important;
	}

	#support-map .list-unstyled input[type=checkbox]:checked:after {
		background-color: var(--color-green) !important;
	}

	#support-map input[name=case_reason] {
		position: absolute;
		opacity: 0;
		height: 0;
		width: 0;
	}

	#support-map input[type=text] {
		background-color: #FFF !important;
	}

	#support-map input[type=text].disabled {
		background-color: transparent !important;
	}

	#support-map #ext-monitor label.rz_Btn {
		width: 90px;
	}

	#support-map .red-text {
		color: red;
		font-style: italic;
	}

	.d-none {
		display: none;
	}
</style>
<div>$oda_ts_notice</div>
<p class="mt-3">To help us assist you better, please prepare a video or photo that clearly shows the issue of your
	device before
	contacting support. You can <a href="https://mysupport.razer.com/app/answers/detail/a_id/4011"
		target="_blank">follow this guide</a> on how to prepare and share your file.</p>
<form action="https://mysupport.razer.com/app/contact-support" id="support-map" method="POST"><input
		name="case_category" type="hidden" value="software" />

	<div class="row my-3">
		<div class="col-sm-6"><input id="main-tab-1" name="case_reason" type="radio" value="0" /> <label
				class="rz_Btn btn-outline-primary gtm_insider2 btn-block" for="main-tab-1"
				onclick="showSection('application_issues')">Application<br>Issues</label></div>

		<div class="col-sm-6"><input id="main-tab-2" name="case_reason" type="radio" value="1" /> <label
				class="rz_Btn btn-outline-primary gtm_insider2 btn-block" for="main-tab-2"
				onclick="showSection('playtime_issues')">Game Booster/<br>Playtime Issues</label></div>
	</div>

	<div class="support_faq mb-5" id="support_faq" itemscope="" itemtype="https://schema.org/FAQPage">
		<div class="ts-section d-none" id="application_issues">
			<h2 class="mb-4">Application Issues</h2>

			<div id="application_issues_1" itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
				<h3 itemprop="name">Unable to launch Razer Cortex </h3>

				<div itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer">
					<div itemprop="text">
						<h4><strong>Solutions</strong></h4>

						<p><span class="red-text">Important:</span> You must <strong><u>attempt and check all
									solutions</u></strong> below to contact us for support.</p>

						<ul class="list-unstyled list-solutions">
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Ensure that you are logged
									into Razer Central using a registered RazerID account or Guest account. </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try <a
										href="https://mysupport.razer.com/app/answers/detail/a_id/6106"
										target="_blank">repairing Razer Cortex</a>. </p>
							</li>
						</ul>

						<p class="my-4"><button
								class="contact_support_Btn rz_Btn disabled btn-outline-primary gtm_insider2 m-md-0 m-auto"
								disabled="disabled" type="submit">Contact Support</button></p>
					</div>
				</div>
			</div>

			<div id="application_issues_2" itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
				<h3 itemprop="name">Unable to update Razer Cortex </h3>

				<div itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer">
					<div itemprop="text">
						<h4><strong>Solutions</strong></h4>

						<p><span class="red-text">Important:</span> You must <strong><u>attempt and check all
									solutions</u></strong> below to contact us for support.</p>

						<ul class="list-unstyled list-solutions">
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Ensure that you have
									downloaded and <a
										href="https://developer.microsoft.com/en-us/microsoft-edge/webview2/?ch=1&form=MA13LH#download-section"
										target="_blank">updated to the latest WebView2.</a> </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Ensure that your Internet
									connection is stable. </p>
							</li>
						</ul>

						<p class="my-4"><button
								class="contact_support_Btn rz_Btn disabled btn-outline-primary gtm_insider2 m-md-0 m-auto"
								disabled="disabled" type="submit">Contact Support</button></p>
					</div>
				</div>
			</div>

			<div id="application_issues_3" itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
				<h3 itemprop="name">Missing games in Razer Cortex </h3>

				<div itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer">
					<div itemprop="text">
						<h4><strong>Solutions</strong></h4>

						<p><span class="red-text">Important:</span> You must <strong><u>attempt and check all
									solutions</u></strong> below to contact us for support.</p>

						<ul class="list-unstyled list-solutions">
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try launching the game
									while Razer Cortex is running. </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try connecting your gaming
									platforms to Razer Cortex. </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try adding the game
									manually by clicking the "+" icon and selecting "Add game". </p>
							</li>
						</ul>

						<p class="my-4"><button
								class="contact_support_Btn rz_Btn disabled btn-outline-primary gtm_insider2 m-md-0 m-auto"
								disabled="disabled" type="submit">Contact Support</button></p>
					</div>
				</div>
			</div>

			<div id="application_issues_4" itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
				<h3 itemprop="name">Razer Cortex causing performance issues </h3>

				<div itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer">
					<div itemprop="text">
						<h4><strong>Solutions</strong></h4>

						<p><span class="red-text">Important:</span> You must <strong><u>attempt and check all
									solutions</u></strong> below to contact us for support.</p>

						<ul class="list-unstyled list-solutions">
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try to toggle off 'Custom
									Display' option in 'Launcher' > 'In-Game' tab. </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try to deselect 'Enable
									CPU Core' option under the 'Specials' category in 'Game Booster' > 'Boost' tab </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try to disable 'Auto
									Boost' option in 'Game Booster' > 'Boost' tab. </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try to disable all
									FPS-related features. </p>
							</li>
						</ul>

						<p class="my-4"><button
								class="contact_support_Btn rz_Btn disabled btn-outline-primary gtm_insider2 m-md-0 m-auto"
								disabled="disabled" type="submit">Contact Support</button></p>
					</div>
				</div>
			</div>

		</div>

		<div class="ts-section d-none" id="playtime_issues">
			<h2 class="mb-4">Game Booster/Playtime Issues</h2>

			<div id="playtime_issues_1" itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
				<h3 itemprop="name">Unable to optimize games using Booster Prime </h3>

				<div itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer">
					<div itemprop="text">
						<h4><strong>Solutions</strong></h4>

						<p><span class="red-text">Important:</span> You must <strong><u>attempt and check all
									solutions</u></strong> below to contact us for support.</p>

						<ul class="list-unstyled list-solutions">
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Ensure that the game is
									not running when the optimization settings are being configured. </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try <a
										href="https://mysupport.razer.com/app/answers/detail/a_id/6106"
										target="_blank">repairing Razer Cortex</a>. </p>
							</li>
						</ul>

						<p class="my-4"><button
								class="contact_support_Btn rz_Btn disabled btn-outline-primary gtm_insider2 m-md-0 m-auto"
								disabled="disabled" type="submit">Contact Support</button></p>
					</div>
				</div>
			</div>

			<div id="playtime_issues_2" itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
				<h3 itemprop="name">Playtime hours for games are not recorded </h3>

				<div itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer">
					<div itemprop="text">
						<h4><strong>Solutions</strong></h4>

						<p><span class="red-text">Important:</span> You must <strong><u>attempt and check all
									solutions</u></strong> below to contact us for support.</p>

						<ul class="list-unstyled list-solutions">
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Ensure that the game is
									the official version running on official platforms. </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Ensure that the game and
									game launcher are installed in the same folder. </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Ensure that Razer Cortex
									is launched and running before launching the game. </p>
							</li>
							<li>
								<p><input name="case_solutions[]" type="checkbox" value="0" />Try reinstalling the game
									in the same location as the game launcher. </p>
							</li>
						</ul>

						<p class="my-4"><button
								class="contact_support_Btn rz_Btn disabled btn-outline-primary gtm_insider2 m-md-0 m-auto"
								disabled="disabled" type="submit">Contact Support</button></p>
					</div>
				</div>
			</div>

		</div>

	</div>
</form>
<script>
	var curSym = [];

	// Shows the target section and scrolls down to it on mobile view
	function showSection(target) {
		document.querySelectorAll(".ts-section").forEach(elem => elem.classList.add("d-none"));
		document.querySelectorAll(".contact_support_Btn").forEach(elem => {
			elem.classList.add("disabled");
			elem.setAttribute("disabled", true);
		});
		document.getElementById("support-map").reset();
		document.getElementById(target).classList.remove("d-none");

		// Bypasses the required count of solutions taken
		if (target == "general-questions") {
			document.querySelectorAll(".contact_support_Btn").forEach(elem => {
				elem.classList.remove("disabled");
				elem.removeAttribute("disabled");
			});
		}
		return false;
	}

	// Shows the target sub-section
	function showSubItem(target) {
		document.querySelectorAll(".ts-sub-item").forEach(elem => elem.classList.add("d-none"));
		document.querySelectorAll(".list-solutions input").forEach(elem => elem.checked = false);
		document.querySelectorAll(".contact_support_Btn").forEach(elem => {
			elem.classList.add("disabled");
			elem.setAttribute("disabled", true);
		});
		document.getElementById(target).classList.remove("d-none");
		return false;
	}

	// Checks if all mandatory steps have been fulfilled
	function checkMandatorySteps(itemList) {
		let mandatoryItems = 0, mandatoryChecked = 0;
		itemList.forEach(elem => {
			if (elem.hasAttribute('mandatory')) {
				mandatoryItems++;
				if (elem.checked) mandatoryChecked++;
			}
		});
		if (mandatoryItems == mandatoryChecked) {
			return true;
		} else {
			return false;
		}
	}

	// Checks if at least the required count of solutions have been taken
	function checkStepsTaken(section, reqCount) {
		let solList = document.querySelectorAll("#" + section + " .list-solutions input"),
			contactBtn = document.querySelector("#" + section + " .contact_support_Btn");
		solList.forEach(elem => elem.addEventListener("change", function () {
			let inCount = 0;
			for (let i = 0; i < solList.length; i++) {
				if (!solList[i].hasAttribute('notcounted')) {
					solList[i].checked ? inCount++ : inCount;
				}
			}
			if (inCount >= reqCount && checkMandatorySteps(solList)) {
				contactBtn.classList.remove("disabled");
				contactBtn.removeAttribute("disabled");
			} else {
				contactBtn.classList.add("disabled");
				contactBtn.setAttribute("disabled", true);
			};
		}));
	}

	// Checks if all the presented solutions have been taken
	function checkStepsTakenAll(selector) {
		let section = selector.getAttribute('id'),
			solList = document.querySelectorAll("#" + section + " .list-solutions input[type=checkbox]"),
			contactBtn = document.querySelector("#" + section + " .contact_support_Btn");
		solList.forEach(elem => elem.addEventListener("change", function () {
			let inCount = 0;
			for (let i = 0; i < solList.length; i++) {
				solList[i].checked ? inCount++ : inCount;
				// console.log(inCount+':'+solList.length);
			}
			if (inCount >= solList.length) {
				contactBtn.classList.remove("disabled");
				contactBtn.removeAttribute("disabled");
			} else {
				contactBtn.classList.add("disabled");
				contactBtn.setAttribute("disabled", true);
			};
		}));
	}

	// Checks if at least the required count of symptoms have been taken
	function checkSymptoms(section, reqCount) {
		let symList = document.querySelectorAll("#" + section + " .list-symptoms input"),
			contactBtn = document.querySelector("#" + section + " .contact_support_Btn");
		symList.forEach(elem => elem.addEventListener("change", function () {
			let inCount = 0;
			for (let i = 0; i < symList.length; i++) {
				symList[i].checked ? inCount++ : inCount;
			}
			if (inCount >= reqCount && checkMandatorySteps(symList)) {
				contactBtn.classList.remove("disabled");
				contactBtn.removeAttribute("disabled");
			} else {
				contactBtn.classList.add("disabled");
				contactBtn.setAttribute("disabled", true);
			}
		}));
	}

	// Stores the checked field values in localStorage
	function setCaseInfo() {
		localStorage.setItem("case_category", document.getElementsByName("case_category")[0].value);
		localStorage.setItem("case_reason", getValues("case_reason"));
		if (getValues("case_reason") >= 4) {
			localStorage.setItem("case_symptoms", getValues("case_symptoms[]", true));
		} else {
			localStorage.setItem("case_symptoms", JSON.stringify(curSym));
		}
		localStorage.setItem("case_connection", getValues("case_connection"));
		localStorage.setItem("case_solutions", getValues("case_solutions[]", true));
	}

	function getValues(key, multiple = false) {
		let data = document.getElementsByName(key),
			value = 'unspecified',
			valArr = [];
		if (data.length > 0) {
			for (let i = 0; i < data.length; i++) {
				if (data[i].checked) {
					multiple ? valArr.push(data[i].value) : value = data[i].value;
				}
			}
		}
		if (key == 'case_symptoms[]' && valArr.includes('26')) {
			valArr = valArr.concat(document.getElementsByName("symptom_other")[0].value.split(' '));
		}
		if (multiple) {
			return JSON.stringify(valArr);
		}
		return value;
	}

	document.addEventListener("DOMContentLoaded", function () {
		// Resets all fields if a different symptom is focused
		var inFocus = 0,
			symList = document.querySelectorAll('div[itemprop="mainEntity"]'),
			btnList = document.querySelectorAll('.contact_support_Btn');
		symList.forEach((elem, idx) => {
			elem.addEventListener('click', function () {
				if (idx != inFocus) {
					inFocus = idx;

					// Resets all the previous selection set
					document.querySelectorAll(".list-solutions input").forEach(elem => elem.checked = false);
					document.querySelectorAll('.toggle').forEach(elem => elem.dispatchEvent(new Event('change')));
					btnList.forEach(elem => {
						elem.classList.add("disabled");
						elem.setAttribute("disabled", true);
					});

					// Auto collapses all other accordions when an accordion is expanded
					symList.forEach(sym => {
						sym.classList.remove('active');
						symList[inFocus].classList.add('active');
						document.querySelectorAll('.list-solutions input[type=radio]').forEach(radio => {
							if (radio.hasAttribute('default')) radio.checked = true;
						});
					});
				}
			});
			// Check steps taken for each symptom/section
			checkStepsTakenAll(elem);
		});

		// Sets the selected symptom based on the contact support button used
		btnList.forEach((elem, idx) => {
			elem.addEventListener('click', function () {
				if (!elem.hasAttribute('disabled')) {
					curSym[0] = idx;
				}
			});
		});

		// General toggle function
		document.querySelectorAll('.toggle').forEach(elem => {
			elem.addEventListener('change', function () {
				let value = this.getAttribute('data-toggle'),
					target = document.getElementById(this.getAttribute('data-target'));
				switch (value) {
					default:
					case 'd-none':
						if (this.checked) {
							target.classList.remove(value);
						} else {
							target.classList.add(value);
							// document.querySelectorAll('#' + this.getAttribute('data-target') + ' input').forEach(elem => elem.checked = false);
						}
						break;
					case 'disabled':
						if (this.checked) {
							target.classList.remove(value);
							target.removeAttribute(value);
							target.setAttribute('required', true);
						} else {
							target.value = '';
							target.classList.add(value);
							target.setAttribute(value, true);
							target.setAttribute('required', false);
						}
						break;
				}
			});
		});

		// Inserts additional actions upon form submission
		document.getElementById("support-map").addEventListener("submit", function (e) {
			// e.preventDefault();
			setCaseInfo();
		});

		// Initializes the required steps per section before enabling the contact support button
		// checkStepsTaken("display-issues-1", 5);
		// checkSymptoms("cosmetic-issues", 2);

		// This is a drop-in functionality that does the necessary processing related to the Project Opera pages
		const paramsValue = getUrlSegment(6);
		const sigValue = getUrlSegment(8);

		const buttons = document.querySelectorAll('.contact_support_Btn');
		buttons.forEach(button => {
			button.addEventListener('click', function (event) {
				event.preventDefault();
				setCaseInfo();	// Stores the troubleshooting page selection to the local storage for a contact page script to compile and pass those values to ODA

				window.location.href = "/app/contact-support/params/" + paramsValue + "/sig/" + sigValue;
			});
		});
	});

	function getUrlSegment(index) {
		const url = window.location.pathname;
		const segments = url.split('/').filter(segment => segment !== '');

		if (index >= 0 && index < segments.length) {
			return segments[index];
		} else {
			return null;
		}
	}

	const labels = document.querySelectorAll('label[for]');
	labels.forEach(label => {
		label.addEventListener('keydown', function (event) {
			if (event.code === 'Space' || event.key === 'Enter') {
				event.preventDefault();
				let forAttr = label.getAttribute('for');
				let inputElement = document.getElementById(forAttr);
				if (inputElement) {
					label.click();
					inputElement.click();
				}
			}
		});
	});

</script>